# mock-screens.yaml - Capture screens that need mock/simulated data
# 
# This flow is for capturing screens that require pre-existing data:
# - Composer (with media selected)
# - Script Review (with generated script)
# - Video Preview (with rendered video)
# - Result (with completed video)
# - Settings (after login)
# - Paywall
#
# PREREQUISITES:
# 1. Run complete-with-testids.yaml first to set up a logged-in session
# 2. OR manually create test data in your backend
#
# Run: maestro test .maestro/flows/mock-screens.yaml

appId: app.rork.reelfull

---
# ========================================
# SETTINGS SCREEN
# (Requires logged-in user)
# ========================================
- launchApp

# Navigate to settings if there's a tab/button
- tapOn:
    text: "Settings"
    optional: true

- tapOn:
    id: "settingsTab"
    optional: true

# If we found settings
- runFlow:
    when:
      visible:
        text: "Settings"
    commands:
      - takeScreenshot: .maestro/screenshots/08-settings

# ========================================
# PAYWALL SCREEN
# (Usually triggered from certain actions)
# ========================================
# Try to trigger paywall by tapping on a premium feature
- tapOn:
    text: "Upgrade"
    optional: true

- tapOn:
    text: "Premium"
    optional: true

- runFlow:
    when:
      visible:
        anyOf:
          - text: "Unlock"
          - text: "Subscribe"
          - text: "Premium"
    commands:
      - takeScreenshot: .maestro/screenshots/09-paywall

# ========================================
# LOADER SCREEN
# (Transient state - hard to capture reliably)
# ========================================
# The loader appears during async operations
# You might need to trigger it by starting a video generation
# and immediately taking a screenshot

# ========================================
# NOTE: For script-review, video-preview, and result screens
# you need actual project data. Options:
#
# 1. Create a test project manually and use its projectId
# 2. Set up mock API responses
# 3. Use ENABLE_TEST_RUN_MODE with predefined test data
# ========================================
