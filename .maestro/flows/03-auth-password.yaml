# 03-auth-password.yaml - Capture password screen (backdoor login)
# Run: maestro test .maestro/flows/03-auth-password.yaml

appId: app.rork.reelfull

# Test credentials
env:
  TEST_PHONE: "0000000000"
  TEST_PASSWORD: "PHqvs8TUxr8HFv"

---
# Launch app fresh
- launchApp:
    clearState: true

# Navigate to auth
- extendedWaitUntil:
    visible:
      text: "Get Started"
    timeout: 10000

- tapOn:
    text: "Get Started"

# Wait for auth screen
- extendedWaitUntil:
    visible:
      text: "Welcome!"
    timeout: 5000

# Enter test phone number
- tapOn:
    id: "phoneInput"
    optional: true

- inputText: ${TEST_PHONE}

# Tap continue to go to password screen
- tapOn:
    text: "Continue"

# Wait for password screen
- extendedWaitUntil:
    visible:
      text: "Enter Password"
    timeout: 5000

# Take screenshot of password screen
- takeScreenshot: .maestro/screenshots/03-auth-password
